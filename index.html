<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Cargando...</title>
  
  <!-- Favicon Configuration -->
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/icons/icon-96x96.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/icons/icon-72x72.png">
  <link rel="shortcut icon" href="/assets/icons/icon-96x96.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/icon-152x152.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/assets/icons/icon-144x144.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/assets/icons/icon-128x128.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/assets/icons/icon-128x128.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/assets/icons/icon-96x96.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/assets/icons/icon-72x72.png">
  <link rel="apple-touch-icon" href="/assets/icons/icon-152x152.png">
  
  <!-- PWA Configuration -->
  <link rel="manifest" href="/manifest.json">
  <meta name="theme-color" content="#1a1a2e">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="Radio Fusion Austral">
  
  <script type="module">
    import { config } from './assets/js/config.js';
    
    (async () => {
      try {
        // Cargar el config
        const conf = await config;
        
        // Actualizar el título antes de redirigir
        if (conf.project_name) {
          document.title = conf.project_name;
          
          // Actualizar meta tags
          const appNameMeta = document.querySelector('meta[name="apple-mobile-web-app-title"]');
          if (appNameMeta) {
            appNameMeta.setAttribute('content', conf.project_name);
          }
        }
        
        // Pequeña pausa para que el título se actualice
        await new Promise(resolve => setTimeout(resolve, 100));
        
        // Redirigir al template
        window.location.href = `/templates/${conf.template}/index.html`;
      } catch (error) {
        console.error('Error loading config:', error);
        document.title = 'Error al cargar';
      }
    })();
  </script>
</head>
<body>
  <noscript>Por favor activa JavaScript para continuar.</noscript>
</body>
</html>
